<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Booking Form Wizard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <div class="max-w-5xl mx-auto bg-white shadow-lg rounded-xl p-6 mt-8">
    <div id="wizard">
      <!-- Step Pages -->
      <div id="step1" class="step">
        <h2 class="font-bold text-lg mb-2">Step 1: Contact Information</h2>
        <label class="block mb-2">Date: <input type="date" id="date" class="border p-1 w-full"></label>
        <label class="block mb-2">Taken By: <input type="text" id="takenBy" class="border p-1 w-full"></label>
        <label class="block mb-2">Contact Name/Surname: <input type="text" id="contactName" class="border p-1 w-full"></label>
        <label class="block mb-2">Contact Phone #: <input type="text" id="contactPhone" class="border p-1 w-full"></label>
        <label class="block mb-2">Contact Relationship: <input type="text" id="contactRelation" class="border p-1 w-full"></label>
        <button onclick="nextStep()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">Next</button>
      </div>

      <div id="step2" class="step hidden">
        <h2 class="font-bold text-lg mb-2">Step 2: Immigration & Status</h2>
        <label class="block mb-2">Immigration Document: <input type="text" id="immigrationDoc" class="border p-1 w-full"></label>
        <label class="block mb-2">Expiry Date: <input type="date" id="expiryDate" class="border p-1 w-full"></label>
        <label class="block mb-2">Previous Attendance in Canadian Schools:
          <select id="prevSchool" class="border p-1 w-full">
            <option value="">Select</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </label>
        <label class="block mb-2">Date Student(s) Landed in Canada: <input type="date" id="landedDate" class="border p-1 w-full"></label>
        <button onclick="prevStep()" class="mt-4 px-4 py-2 bg-gray-400 text-white rounded">Back</button>
        <button onclick="nextStep()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">Next</button>
      </div>

      <div id="step3" class="step hidden">
        <h2 class="font-bold text-lg mb-2">Step 3: Parent Information</h2>
        <label class="block mb-2">Father's Surname: <input type="text" id="fatherSurname" class="border p-1 w-full"></label>
        <label class="block mb-2">Father's Given Name: <input type="text" id="fatherGiven" class="border p-1 w-full"></label>
        <label class="block mb-2">Mother's Surname: <input type="text" id="motherSurname" class="border p-1 w-full"></label>
        <label class="block mb-2">Mother's Given Name: <input type="text" id="motherGiven" class="border p-1 w-full"></label>
        <button onclick="prevStep()" class="mt-4 px-4 py-2 bg-gray-400 text-white rounded">Back</button>
        <button onclick="nextStep()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">Next</button>
      </div>

      <div id="step4" class="step hidden">
        <h2 class="font-bold text-lg mb-2">Step 4: Address</h2>
        <label class="block mb-2">Apartment #: <input type="text" id="apartment" class="border p-1 w-full"></label>
        <label class="block mb-2">Family Address: <input type="text" id="address" class="border p-1 w-full"></label>
        <label class="block mb-2">Postal Code: <input type="text" id="postalCode" class="border p-1 w-full"></label>
        <label class="block mb-2">Family Phone #: <input type="text" id="familyPhone" class="border p-1 w-full"></label>
        <label class="block mb-2">Home Language: <input type="text" id="language" class="border p-1 w-full"></label>
        <label class="block mb-2">Catholic:
          <select id="catholic" class="border p-1 w-full">
            <option value="">Select</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </label>
        <button onclick="prevStep()" class="mt-4 px-4 py-2 bg-gray-400 text-white rounded">Back</button>
        <button onclick="nextStep()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">Next</button>
      </div>

      <div id="step5" class="step hidden">
        <h2 class="font-bold text-lg mb-2">Step 5: Students</h2>
        <div id="studentsContainer"></div>
        <button onclick="addStudent()" class="px-3 py-1 bg-green-600 text-white rounded">+ Add Student</button>
        <br>
        <button onclick="prevStep()" class="mt-4 px-4 py-2 bg-gray-400 text-white rounded">Back</button>
        <button onclick="nextStep()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">Next</button>
      </div>

      <div id="step6" class="step hidden">
        <h2 class="font-bold text-lg mb-2">Step 6: Additional Info</h2>
        <label class="block mb-2">Potential Limited Formal Schooling Profile:
          <select id="lfsp" class="border p-1 w-full">
            <option value="">Select</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </label>
        <label class="block mb-2">Notes: <textarea id="notes" class="border p-1 w-full"></textarea></label>
        <button onclick="prevStep()" class="mt-4 px-4 py-2 bg-gray-400 text-white rounded">Back</button>
        <button onclick="finishWizard()" class="mt-4 px-4 py-2 bg-green-600 text-white rounded">Finish</button>
      </div>
    </div>

    <!-- Final Yellow Page -->
    <div id="finalPage" class="hidden mt-6"></div>
  </div>

  <script>
    let currentStep = 1;
    let formData = { students: [] };

    function showStep(step) {
      document.querySelectorAll(".step").forEach(el => el.classList.add("hidden"));
      document.getElementById("step" + step).classList.remove("hidden");
    }

    function nextStep() {
      saveStepData(currentStep);
      currentStep++;
      showStep(currentStep);
    }

    function prevStep() {
      currentStep--;
      showStep(currentStep);
    }

    function saveStepData(step) {
      if (step === 1) {
        formData.date = document.getElementById("date").value;
        formData.takenBy = document.getElementById("takenBy").value;
        formData.contactName = document.getElementById("contactName").value;
        formData.contactPhone = document.getElementById("contactPhone").value;
        formData.contactRelation = document.getElementById("contactRelation").value;
      } else if (step === 2) {
        formData.immigrationDoc = document.getElementById("immigrationDoc").value;
        formData.expiryDate = document.getElementById("expiryDate").value;
        formData.prevSchool = document.getElementById("prevSchool").value;
        formData.landedDate = document.getElementById("landedDate").value;
      } else if (step === 3) {
        formData.fatherSurname = document.getElementById("fatherSurname").value;
        formData.fatherGiven = document.getElementById("fatherGiven").value;
        formData.motherSurname = document.getElementById("motherSurname").value;
        formData.motherGiven = document.getElementById("motherGiven").value;
      } else if (step === 4) {
        formData.apartment = document.getElementById("apartment").value;
        formData.address = document.getElementById("address").value;
        formData.postalCode = document.getElementById("postalCode").value;
        formData.familyPhone = document.getElementById("familyPhone").value;
        formData.language = document.getElementById("language").value;
        formData.catholic = document.getElementById("catholic").value;
      } else if (step === 5) {
        formData.students = [];
        document.querySelectorAll(".student").forEach(el => {
          let student = {
            surname: el.querySelector(".surname").value,
            given: el.querySelector(".given").value,
            gender: el.querySelector(".gender").value,
            dob: el.querySelector(".dob").value,
            birthCountry: el.querySelector(".birthCountry").value,
            grade: el.querySelector(".grade").value,
            schoolYear: el.querySelector(".schoolYear").value,
            program: el.querySelector(".program").value,
            programSpecify: el.querySelector(".programSpecify").value
          };
          formData.students.push(student);
        });
      } else if (step === 6) {
        formData.lfsp = document.getElementById("lfsp").value;
        formData.notes = document.getElementById("notes").value;
      }
    }

    function addStudent() {
      const container = document.getElementById("studentsContainer");
      const div = document.createElement("div");
      div.classList.add("student", "border", "p-2", "mb-2");
      div.innerHTML = `
        <label>Surname: <input type="text" class="surname border p-1 w-full"></label>
        <label>Given Name: <input type="text" class="given border p-1 w-full"></label>
        <label>Gender:
          <select class="gender border p-1 w-full">
            <option value="">Select</option>
            <option>F</option>
            <option>M</option>
          </select>
        </label>
        <label>DOB: <input type="date" class="dob border p-1 w-full"></label>
        <label>Birth Country: <input type="text" class="birthCountry border p-1 w-full"></label>
        <label>Last Grade Completed: <input type="text" class="grade border p-1 w-full"></label>
        <label>School Year:
          <select class="schoolYear border p-1 w-full">
            <option value="">Select</option>
            <option>This Year</option>
            <option>Next Year</option>
          </select>
        </label>
        <label>Program:
          <select class="program border p-1 w-full">
            <option value="">Select</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </label>
        <label>Program Specify: <input type="text" class="programSpecify border p-1 w-full"></label>
      `;
      container.appendChild(div);
    }

    function finishWizard() {
      saveStepData(currentStep);
      document.getElementById("wizard").classList.add("hidden");
      document.getElementById("finalPage").classList.remove("hidden");
      generateFinal();
    }

    function renderCheckbox(value, option) {
      return value === option ? "☑" : "☐";
    }

    function generateFinal() {
      const finalContainer = document.getElementById("finalPage");
      finalContainer.innerHTML = `
        <div class="p-6 bg-yellow-100 border-2 border-gray-700">
          <h2 class="text-center font-bold text-lg mb-4">INFORMATION NEEDED FOR BOOKING APPOINTMENTS</h2>
          
          <table class="w-full border-collapse border border-black text-sm">
            <tr>
              <td class="border p-2">DATE: ${formData.date || ""}</td>
              <td class="border p-2">TAKEN BY: ${formData.takenBy || ""}</td>
              <td class="border p-2">CONTACT NAME/SURNAME: ${formData.contactName || ""}</td>
              <td class="border p-2">CONTACT PHONE #: ${formData.contactPhone || ""}</td>
              <td class="border p-2">CONTACT RELATIONSHIP: ${formData.contactRelation || ""}</td>
            </tr>

            <tr>
              <td class="border p-2" colspan="2">
                STUDENT'S STATUS<br>
                Immigration Doc: ${formData.immigrationDoc || ""}<br>
                Expiry Date: ${formData.expiryDate || ""}
              </td>
              <td class="border p-2">
                Previous Attendance in Canadian Schools:<br>
                ${renderCheckbox(formData.prevSchool, "No")} NO 
                ${renderCheckbox(formData.prevSchool, "Yes")} YES
              </td>
              <td class="border p-2">
                Date Student(s) Landed in Canada: ${formData.landedDate || ""}
              </td>
            </tr>

            <tr>
              <td class="border p-2">FATHER'S SURNAME: ${formData.fatherSurname || ""}</td>
              <td class="border p-2">FATHER'S GIVEN NAME: ${formData.fatherGiven || ""}</td>
              <td class="border p-2">MOTHER'S SURNAME: ${formData.motherSurname || ""}</td>
              <td class="border p-2">MOTHER'S GIVEN NAME: ${formData.motherGiven || ""}</td>
            </tr>

            <tr>
              <td class="border p-2">APARTMENT #: ${formData.apartment || ""}</td>
              <td class="border p-2">FAMILY ADDRESS: ${formData.address || ""}</td>
              <td class="border p-2">POSTAL CODE: ${formData.postalCode || ""}</td>
            </tr>

            <tr>
              <td class="border p-2">FAMILY PHONE #: ${formData.familyPhone || ""}</td>
              <td class="border p-2">HOME LANGUAGE: ${formData.language || ""}</td>
              <td class="border p-2">
                CATHOLIC:<br>
                ${renderCheckbox(formData.catholic, "No")} NO 
                ${renderCheckbox(formData.catholic, "Yes")} YES
              </td>
            </tr>

            ${formData.students.map((student, i) => `
              <tr>
                <td class="border p-2">STUDENT ${i+1} SURNAME: ${student.surname || ""}</td>
                <td class="border p-2">GIVEN NAME: ${student.given || ""}</td>
                <td class="border p-2">
                  GENDER:<br>
                  ${renderCheckbox(student.gender, "F")} F 
                  ${renderCheckbox(student.gender, "M")} M
                </td>
                <td class="border p-2">DOB: ${student.dob || ""}</td>
                <td class="border p-2">BIRTH COUNTRY: ${student.birthCountry || ""}</td>
              </tr>
              <tr>
                <td class="border p-2" colspan="2">LAST GRADE COMPLETED: ${student.grade || ""}</td>
                <td class="border p-2">
                  SCHOOL YEAR:<br>
                  ${renderCheckbox(student.schoolYear, "This Year")} THIS YEAR 
                  ${renderCheckbox(student.schoolYear, "Next Year")} NEXT YEAR
                </td>
                <td class="border p-2" colspan="2">
                  PROGRAM:<br>
                  ${renderCheckbox(student.program, "No")} NO 
                  ${renderCheckbox(student.program, "Yes")} YES
                  ${student.programSpecify ? " Specify: " + student.programSpecify : ""}
                </td>
              </tr>
            `).join("")}

            <tr>
              <td class="border p-2" colspan="5">
                POTENTIAL LIMITED FORMAL SCHOOLING PROFILE:<br>
                ${renderCheckbox(formData.lfsp, "No")} NO 
                ${renderCheckbox(formData.lfsp, "Yes")} YES
              </td>
            </tr>

            <tr>
              <td class="border p-2" colspan="5">NOTES: ${formData.notes || ""}</td>
            </tr>
          </table>

          <p class="mt-4 text-xs">Rev. 2021</p>
        </div>
      `;
    }

    // Initialize
    showStep(1);
  </script>

</body>
</html>
